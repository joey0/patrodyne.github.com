<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jun 23, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120623" />
    <meta http-equiv="Content-Language" content="en" />
        
                			    		<!-- Flattr Script -->
		<script type="text/javascript">/* <![CDATA[ */
		(function() {
			var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
			s.type = 'text/javascript';
			s.async = true;
			s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
			t.parentNode.insertBefore(s, t);
		})();
		/* ]]> */</script>
    </head>
  <body class="composite">
    <div id="banner">
                                                    <a href="index.html" id="bannerLeft">
                                                              <img src="images/logos/ScriptingJava.png" alt="Patrodyne Site Demo" />
                      </a>
                                      <div id="bannerRight">
                              <a class="FlattrButton" style="display:none;" rev="flattr;button:compact;" href="http://patrodyne.org/sites/scripting-Java"></a>
        <noscript>
          <a href="http://flattr.com/thing/722590/Patrodyne-Scripting-Java" target="_blank">
            <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" />
          </a>
        </noscript>
              </div>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-06-23</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.1-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="sitemap.html" title="sitemap">sitemap</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                                                                                                                  <li class="expanded">
            <strong>Introduction</strong>
                  <ul>
                                                                                    <li class="expanded">
                          <a href="index.html#Usage" title="Usage">Usage</a>
                    <ul>
                      <li class="none">
                          <a href="index.html#Direct" title="Direct">Direct</a>
            </li>
                      <li class="none">
                          <a href="index.html#Embedded" title="Embedded">Embedded</a>
            </li>
              </ul>
        </li>
              </ul>
        </li>
                  <li class="none">
                          <a href="faq.html" title="FAQ">FAQ</a>
            </li>
          </ul>
                       <h5>Scripting</h5>
                  <ul>
                                                                                                        <li class="collapsed">
                          <a href="Reference.html" title="Reference">Reference</a>
                  </li>
          </ul>
                       <h5>Download</h5>
                  <ul>
                  <li class="none">
                          <a href="https://oss.sonatype.org/content/repositories/snapshots/org/patrodyne/patrodyne-scripting-java/1.0.0-SNAPSHOT/" class="externalLink" title="Artifacts">Artifacts</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/patrodyne/patrodyne-scripting/tarball/master" class="externalLink" title="Tarball">Tarball</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/patrodyne/patrodyne-scripting/zipball/master" class="externalLink" title="Zipball">Zipball</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                              <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                      <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                       <h5>Powered By</h5>
                                                                                                                             <a href="http://maven.apache.org/" title="Maven" class="poweredBy">
        <img class="poweredBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                                                                                                    <a href="https://github.com/patrodyne/patrodyne-scripting/tree/master/Java" title="GitHub" class="poweredBy">
        <img class="poweredBy"  alt="GitHub" src="https://github.com/github/media/blob/master/logos/github_logo_social_coding_outlined.png?raw=true"   width="90"  height="30" />
      </a>
                                                                                                    <a href="http://flattr.com/thing/722590/Patrodyne-Scripting-Java" title="Flattr" class="poweredBy">
        <img class="poweredBy"  alt="Flattr" src="http://api.flattr.com/button/flattr-badge-large.png"    />
      </a>
                                                                                                    <a href="http://cooltext.com" title="CoolText" class="poweredBy">
        <img class="poweredBy"  alt="CoolText" src="http://cooltext.com/images/ct_pixel.gif"   width="80"  height="15" />
      </a>
                                                                                                    <a href="license.html" title="LGPLv3" class="poweredBy">
        <img class="poweredBy"  alt="LGPLv3" src="http://www.gnu.org/graphics/lgplv3-88x31.png"    />
      </a>
                       
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>A Scripting Engine for Java<a name="A_Scripting_Engine_for_Java"></a></h2><p>Scripting is the Java API consisting of interfaces and classes that implement <a class="externalLink" href="http://jcp.org/aboutJava/communityprocess/final/jsr223/index.html">JSR-223</a> and provide a framework using runtime engines in your applications.</p><p>The main areas of functionality of the <tt>javax.script</tt> package include:</p><ul><li><b>Script execution</b> - Scripts are text sources for programs executed by script engines.</li><li><b>Binding</b> - Allows Java objects to be exposed to script programs as named variables.</li><li><b>Compilation</b> - Allows the intermediate code of a script engine to be stored and executed repeatedly.</li><li><b>Invocation</b> - Allows the reuse of intermediate code generated by a script engine's front-end.</li><li><b>Script Engine Discovery</b> - Script engines are packaged to be discovered at runtime and queried for attributes. </li></ul><p>Some well-known scripting languages are:</p><ul><li><b>Bean Shell</b> - Executes Java syntax and extends it with common scripting conveniences.</li><li><b>Groovy</b> - Builds upon the strengths of Java but has additional power features inspired by Python, Ruby and Smalltalk.</li><li><b>JavaScript</b> - A multi-paradigm language, supporting object-oriented, imperative, and functional programming styles.</li><li><b>Jython</b> - A Java implementation of Python. It is a general-purpose, high-level programming language with code readability.</li></ul><p>Missing from the above is a scripting engine for Java code, itself. <b>That is what this project provides, a script engine to execute Java code from Java, dynamically.</b> Actually, the <a class="externalLink" href="http://www.koders.com/java/fid9438BFE9425E81B41D13D21A1C7124DD5366E484.aspx">reference implementation</a> for JSR-223 provides the basis for a Java Scripting Engine <i>but</i> it is not easy to find and the code is a wee bit dated. This project is a modification of the RI version and is packaged for easy use in your applications or as a stand-alone runner for simple Java programs.</p><div class="section"><h3><a name="Usage">Usage</a></h3><p>There are two ways to use <tt>patrodyne-scripting-java-X.X.X.jar</tt>:</p><ol style="list-style-type: decimal"><li><a href="#Direct">Direct</a> - Execute the jar from the command line to run a Java class.</li><li><a href="#Embedded">Embedded</a> - Include the jar in a <i>Scripting</i> enabled application.</li></ol><div class="section"><h4><a name="Direct">Direct</a></h4><p>The JAR for this project can be executed directly:</p><div class="source"><pre>Linux:

    java -jar patrodyne-scripting-java-X.X.X.jar $*

Windows:

    java -jar patrodyne-scripting-java-X.X.X.jar %*

Example:

    java -jar patrodyne-scripting-java-X.X.X.jar HelloWorld.java arg0 arg1 arg2</pre></div><p>In the above examples, the JAR and the Java sources must be in the same directory. You can apply your programming skills to increase flexibility, just add a fully qualify the location to the JAR.</p><p>Note: The <tt>java</tt> command must be on your path!</p><div class="source"><pre>Linux:

    java -jar ${HOME}/lib/patrodyne-scripting-java-X.X.X.jar $*

Windows:

    java -jar %HOME%\lib\patrodyne-scripting-java-X.X.X.jar %*</pre></div><p>By specifying the JAR with a fully qualified path, you can run a Java source file from the current working directory. A source file, say <tt>HelloWorld.java</tt> must contain the usual <tt>'public static void main(String[] args)'</tt> method before for your program will do anything useful. When a <tt>main</tt> method is found, the arguments after the file name are passed into your program, as you would expect.</p><p>Here is an example of <tt>HelloWorld.java</tt>:</p><div class="source"><pre>import javax.script.*;

class HelloWorld
{  
    private static ScriptContext ctx;
    public static void setScriptContext(ScriptContext ctx)
    {
        this.ctx = ctx;
    }

    public static void main(String[] args)
    {
        System.out.println(&quot;Hello World!&quot;);
        for (int argno=0;  argno &lt; args.length; ++argno)
            System.out.println(&quot;\t&quot;+argno+&quot;: &quot;+args[argno]);
    }
}</pre></div><p>When this example is evaluated as a JSR-223 <i>script</i> by our JAR, the <tt>ScriptContext</tt> is set prior to execution of the main method. The script context can contain runtime objects as provided by the script engine. In fact, in direct mode, the context will always contain:</p><ul><li>an object named <tt>javax.script.filename</tt> to provide the source file name.</li><li>an object named <tt>arguments</tt> to represent the command line options as an array of strings, in the usual way.</li></ul><p>System properties can be used to change the default location to search for additional source files, classes and jars:</p><ul><li><tt>-Dorg.patrodyne.scripting.java.sourcepath</tt> - colon separated list of paths.</li><li><tt>-Dorg.patrodyne.scripting.java.classpath</tt> - colon separated list of paths, jars, etc.</li></ul></div><div class="section"><h4><a name="Embedded">Embedded</a></h4><p>The second way to use our <i>Script Engine for Java</i> is to include it in the class path of a JSR-223 enabled application. An excellent example of such an application is Patrodyne's <a class="externalLink" href="http://patrodyne.org/sites/etl-TransformIO/index.html">TransformIO</a>.</p><p>Metadata:</p><ul><li>Engine Name: <tt>JavaCode</tt></li><li>Short Names: <tt>JavaCode, Java</tt></li><li>MIME Type: <tt>application/java</tt></li><li>Extensions: <tt>java</tt></li></ul><!-- vi:set tabstop=4 hardtabs=4 shiftwidth=4: --></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2012
                        <a href="http://patrodyne.org">Patrodyne</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
