<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jun 21, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120621" />
    <meta http-equiv="Content-Language" content="en" />
        
                			    		<!-- Flattr Script -->
		<script type="text/javascript">/* <![CDATA[ */
		(function() {
			var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
			s.type = 'text/javascript';
			s.async = true;
			s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
			t.parentNode.insertBefore(s, t);
		})();
		/* ]]> */</script>
    </head>
  <body class="composite">
    <div id="banner">
                                                    <a href="index.html" id="bannerLeft">
                                                              <img src="images/logos/TransformIO.png" alt="Patrodyne ETL TransformIO" />
                      </a>
                                      <div id="bannerRight">
                              <a class="FlattrButton" style="display:none;" rev="flattr;button:compact;" href="http://patrodyne.org/sites/etl-TransformIO"></a>
        <noscript>
          <a href="http://flattr.com/thing/657653/TransformIO" target="_blank">
            <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" />
          </a>
        </noscript>
              </div>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-06-21</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.1-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="sitemap.html" title="sitemap">sitemap</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                                                                                                        <li class="collapsed">
                          <a href="Modes.html" title="Modes">Modes</a>
                  </li>
                                                                                                                                                <li class="expanded">
            <strong>Engines</strong>
                  <ul>
                      <li class="none">
                          <a href="Engines.html#JavaScript" title="JavaScript">JavaScript</a>
            </li>
                      <li class="none">
                          <a href="Engines.html#JavaCode" title="JavaCode">JavaCode</a>
            </li>
                      <li class="none">
                          <a href="Engines.html#Jython" title="Jython">Jython</a>
            </li>
                      <li class="none">
                          <a href="Engines.html#Groovy" title="Groovy">Groovy</a>
            </li>
                      <li class="none">
                          <a href="Engines.html#BeanShell" title="BeanShell">BeanShell</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="Examples.html" title="Examples">Examples</a>
                  </li>
                  <li class="none">
                          <a href="faq.html" title="FAQ">FAQ</a>
            </li>
          </ul>
                       <h5>Java</h5>
                  <ul>
                  <li class="none">
                          <a href="http://java.com/en/download/testjava.jsp" class="externalLink" title="Test">Test</a>
            </li>
                  <li class="none">
                          <a href="http://java.com/en/download/installed.jsp" class="externalLink" title="Verify">Verify</a>
            </li>
          </ul>
                       <h5>Download</h5>
                  <ul>
                  <li class="none">
                          <a href="Patrodyne-ETL-TransformIO.jnlp" title="Release">Release</a>
            </li>
                  <li class="none">
                          <a href="http://search.maven.org/#search|ga|1|a%3A%22patrodyne-etl-TransformIO%22" class="externalLink" title="Artifacts">Artifacts</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/patrodyne/patrodyne-etl/tarball/master" class="externalLink" title="Tarball">Tarball</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/patrodyne/patrodyne-etl/zipball/master" class="externalLink" title="Zipball">Zipball</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                            <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                       <h5>Powered By</h5>
                                                                                                                             <a href="http://maven.apache.org/" title="Maven" class="poweredBy">
        <img class="poweredBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                                                                                                    <a href="https://github.com/patrodyne/patrodyne-etl/tree/master/TransformIO" title="GitHub" class="poweredBy">
        <img class="poweredBy"  alt="GitHub" src="https://github.com/github/media/blob/master/logos/github_logo_social_coding_outlined.png?raw=true"   width="90"  height="30" />
      </a>
                                                                                                    <a href="http://flattr.com/thing/657653/TransformIO" title="Flattr" class="poweredBy">
        <img class="poweredBy"  alt="Flattr" src="http://api.flattr.com/button/flattr-badge-large.png"    />
      </a>
                                                                                                    <a href="http://izpack.org/" title="IzPack" class="poweredBy">
        <img class="poweredBy"  alt="IzPack" src="http://media.xircles.codehaus.org/_projects/izpack/_logos/tiny.png"    />
      </a>
                                                                                                    <a href="http://cooltext.com" title="CoolText" class="poweredBy">
        <img class="poweredBy"  alt="CoolText" src="http://cooltext.com/images/ct_pixel.gif"   width="80"  height="15" />
      </a>
                                                                                                    <a href="license.html" title="LGPLv3" class="poweredBy">
        <img class="poweredBy"  alt="LGPLv3" src="http://www.gnu.org/graphics/lgplv3-88x31.png"    />
      </a>
                       
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>TransformIO Engines<a name="TransformIO_Engines"></a></h2><ul><li><b><a href="#JavaScript">JavaScript</a></b> - A multi-paradigm language, supporting object-oriented, imperative, and functional programming styles.</li><li><b><a href="#JavaCode">JavaCode</a></b> - Compiles a Java source then invokes its main method.</li><li><b><a href="#Jython">Jython</a></b> - A Java implementation of Python. It is a general-purpose, high-level programming language with code readability.</li><li><b><a href="#Groovy">Groovy</a></b> - Builds upon the strengths of Java but has additional power features inspired by Python, Ruby and Smalltalk.</li><li><b><a href="#BeanShell">BeanShell</a></b> - Executes Java syntax and extends it with common scripting conveniences.</li></ul><div class="section"><h3><a name="JavaScript">JavaScript</a>: Scripting Engine for Web and Server Applications<a name="JavaScript:_Scripting_Engine_for_Web_and_Server_Applications"></a></h3><p>The <i>Mozilla Rhino</i> engine for the <i>JavaScript</i> programming language is currently included as a feature in the JDK/JRE 6 and 7 libraries.</p><div class="source"><pre>    &lt;transform&gt;
        &lt;script engine=&quot;JavaScript&quot;&gt;
main();
function main()
{
    target.put('F01',source.get('F02'));
    target.put('F02',source.get('F01'));
    return target;
}
        &lt;/script&gt;
    &lt;/transform&gt;</pre></div><p>This example uses <i>JavaScript</i> to swap fields <tt>F01</tt> and <tt>F02</tt>, any other fields are auto-mapped. The <tt>source</tt> and <tt>target</tt> variables are implemented as <tt>java.util.Map&lt;String,String&gt;</tt> objects where the key is the field name and the value is the data value. <i>TransformIO</i> updates these variables for each record. A third map <tt>common</tt>, not used in this example, can be used to pass named <i>object</i> values across records.</p><p>Note: The data value is always a String, as parsed, from the source record. Type conversion is left to transform script which can better convert the value to numbers, dates, etc. It is best to do casting in the transform where exceptions can be handled with the power of the scripting language! For this reason, <i>TransformIO</i> does not provide type specification in the source or target records where field values are just strings.</p></div><div class="section"><h3><a name="JavaCode">JavaCode</a>: Scripting Engine for the Java Language<a name="JavaCode:_Scripting_Engine_for_the_Java_Language"></a></h3><p>To use <i>Java</i> as a scripting engine, download the JAR from <a class="externalLink" href="http://patrodyne.org/sites/scripting-Java/index.html">Patrodyne Scripting for Java</a>, put it in <i>TransformIO</i>'s <tt>lib/engine</tt> directory and restart <i>TransformIO</i>.</p><div class="source"><pre>    &lt;transform&gt;
        &lt;script engine=&quot;JavaCode&quot;&gt;
&lt;![CDATA[
import java.util.*;
import javax.script.*;
class Main
{
    private static ScriptContext ctx;
    public static void setScriptContext(ScriptContext ctx) { Main.ctx = ctx; }
    public static void main(String[] args)
    {
        Map&lt;String,Object&gt; common = (Map&lt;String,Object&gt;) ctx.getAttribute(&quot;common&quot;);
        Map&lt;String,String&gt; source = (Map&lt;String,String&gt;) ctx.getAttribute(&quot;source&quot;);
        Map&lt;String,String&gt; target = (Map&lt;String,String&gt;) ctx.getAttribute(&quot;target&quot;);
        target.put(&quot;F01&quot;,source.get(&quot;F02&quot;));
        target.put(&quot;F02&quot;,source.get(&quot;F01&quot;));
    }    
}
]]&gt;
        &lt;/script&gt;
    &lt;/transform&gt;</pre></div><p>This example uses <i>Java</i> to swap two fields and auto-map any other fields; otherwise, it is similar to the <i>JavaScript</i> example.</p><p>For <i>Java</i>, the <tt>ScriptContext</tt> requires a setter to get the context variables from <i>TransformIO</i>. Because the <tt>main</tt> method cannot return a value, <i>TransformIO</i> retrieves the <tt>target</tt> object from the context after each transformation.</p><p>Note: This example wraps the script in <tt>&lt;![CDATA[...]]&gt;</tt> because the code includes characters that must be hidden from XML. </p></div><div class="section"><h3><a name="Jython">Jython</a>: Scripting Engine for the Python <a name="Jython:_Scripting_Engine_for_the_Python"></a></h3><p>To use <i>Jython</i> as a scripting engine, download the JAR from one of the following links, put it in <i>TransformIO</i>'s <tt>lib/engine</tt> directory and restart <i>TransformIO</i>.</p><ul><li><a class="externalLink" href="http://mirrors.ibiblio.org/pub/mirrors/maven2/org/python/jython/">Jython Archive</a> (tested with 2.5.0)</li><li><a class="externalLink" href="http://www.jython.org/downloads.html">Jython Downloads</a></li></ul><div class="source"><pre>    &lt;transform&gt;
        &lt;script engine=&quot;jython&quot;&gt;
class Main:
    def run(self):
    main();
        target.put('F01',source.get('F02'));
        target.put('F02',source.get('F01'));
Main().run()
        &lt;/script&gt;
    &lt;/transform&gt;</pre></div><p>This example uses <i>Jython</i> to swap two fields and auto-map any other fields; otherwise, it is similar to the <i>JavaScript</i> example.</p><p>Because the <tt>main</tt> method does not return a value, <i>TransformIO</i> retrieves the <tt>target</tt> object from the context after each transformation.</p></div><div class="section"><h3><a name="Groovy">Groovy</a>: Scripting Engine <a name="Groovy:_Scripting_Engine"></a></h3><p>To use <i>Groovy</i> as a scripting engine, download the JAR from one of the following links, put it in <i>TransformIO</i>'s <tt>lib/engine</tt> directory and restart <i>TransformIO</i>.</p><ul><li><a class="externalLink" href="http://mirrors.ibiblio.org/pub/mirrors/maven2/org/codehaus/groovy/groovy-all/">Groovy Archive</a> (tested with 1.8.3)</li><li><a class="externalLink" href="http://groovy.codehaus.org/Download">Groovy Downloads</a></li></ul><div class="source"><pre>    &lt;transform&gt;
        &lt;script engine=&quot;groovy&quot;&gt;
target.put('F01',source.get('F02'));
target.put('F02',source.get('F01'));
return target;
        &lt;/script&gt;
    &lt;/transform&gt;</pre></div><p>This example uses <i>Groovy</i> to swap two fields and auto-map any other fields; otherwise, it is similar to the <i>JavaScript</i> example.</p><p>Note: <tt>'return target;'</tt> is optional.</p></div><div class="section"><h3><a name="BeanShell">BeanShell</a>: Scripting Engine <a name="BeanShell:_Scripting_Engine"></a></h3><p>To use <i>BeanShell</i> as a scripting engine, download the JAR from one of the following links, put it in <i>TransformIO</i>'s <tt>lib/engine</tt> directory and restart <i>TransformIO</i>.</p><ul><li><a class="externalLink" href="http://mirrors.ibiblio.org/pub/mirrors/maven2/org/beanshell/bsh/">BeanShell Archive</a> (tested with 2.0b4)</li><li><a class="externalLink" href="http://www.beanshell.org/download.html">BeanShell Downloads</a></li></ul><div class="source"><pre>    &lt;transform&gt;
        &lt;script engine=&quot;beanshell&quot;&gt;
target.put(&quot;F01&quot;,source.get(&quot;F02&quot;));
target.put(&quot;F02&quot;,source.get(&quot;F01&quot;));
return target;
        &lt;/script&gt;
    &lt;/transform&gt;</pre></div><p>This example uses <i>BeanShell</i> to swap two fields and auto-map any other fields; otherwise, it is similar to the <i>JavaScript</i> example.</p><p>Note: <tt>'return target;'</tt> is optional.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2012
                        <a href="http://patrodyne.org">Patrodyne</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
