<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jul 7, 2013 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20130707" />
    <meta http-equiv="Content-Language" content="en" />
        
                			    		<!-- Flattr Script -->
		<script type="text/javascript">/* <![CDATA[ */
		(function() {
			var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
			s.type = 'text/javascript';
			s.async = true;
			s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
			t.parentNode.insertBefore(s, t);
		})();
		/* ]]> */</script>
    </head>
  <body class="composite">
    <div id="banner">
                                                    <a href="index.html" id="bannerLeft">
                                                              <img src="images/logos/ScriptingJavaBang.png" alt="Patrodyne Site Demo" />
                      </a>
                                      <div id="bannerRight">
                              <a class="FlattrButton" style="display:none;" rev="flattr;button:compact;" href="http://patrodyne.org/sites/scripting-Java"></a>
        <noscript>
          <a href="http://flattr.com/thing/722590/Patrodyne-Scripting-Java" target="_blank">
            <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" />
          </a>
        </noscript>
              </div>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2013-07-07</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.1-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="sitemap.html" title="sitemap">sitemap</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                                                                                                                  <li class="expanded">
            <strong>Introduction</strong>
                  <ul>
                                                                                    <li class="expanded">
                          <a href="index.html#Usage" title="Usage">Usage</a>
                    <ul>
                      <li class="none">
                          <a href="index.html#Direct" title="Direct">Direct</a>
            </li>
                      <li class="none">
                          <a href="index.html#Embedded" title="Embedded">Embedded</a>
            </li>
              </ul>
        </li>
              </ul>
        </li>
                  <li class="none">
                          <a href="faq.html" title="FAQ">FAQ</a>
            </li>
          </ul>
                       <h5>Scripting</h5>
                  <ul>
                                                                                                        <li class="collapsed">
                          <a href="Reference.html" title="Reference">Reference</a>
                  </li>
          </ul>
                       <h5>Download</h5>
                  <ul>
                  <li class="none">
                          <a href="http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22patrodyne-scripting-java%22" class="externalLink" title="Artifacts">Artifacts</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/patrodyne/patrodyne-scripting/tarball/master" class="externalLink" title="Tarball">Tarball</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/patrodyne/patrodyne-scripting/zipball/master" class="externalLink" title="Zipball">Zipball</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                              <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                      <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                       <h5>Powered By</h5>
                                                                                                                             <a href="http://maven.apache.org/" title="Maven" class="poweredBy">
        <img class="poweredBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                                                                                                    <a href="https://github.com/patrodyne/patrodyne-scripting/tree/master/JavaBang" title="GitHub" class="poweredBy">
        <img class="poweredBy"  alt="GitHub" src="https://github.com/github/media/blob/master/logos/github_logo_social_coding_outlined.png?raw=true"   width="90"  height="30" />
      </a>
                                                                                                    <a href="http://flattr.com/thing/722590/Patrodyne-Scripting-Java" title="Flattr" class="poweredBy">
        <img class="poweredBy"  alt="Flattr" src="http://api.flattr.com/button/flattr-badge-large.png"    />
      </a>
                                                                                                    <a href="http://cooltext.com" title="CoolText" class="poweredBy">
        <img class="poweredBy"  alt="CoolText" src="http://cooltext.com/images/ct_pixel.gif"   width="80"  height="15" />
      </a>
                                                                                                    <a href="license.html" title="LGPLv3" class="poweredBy">
        <img class="poweredBy"  alt="LGPLv3" src="http://www.gnu.org/graphics/lgplv3-88x31.png"    />
      </a>
                       
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>A Shebang for Java<a name="A_Shebang_for_Java"></a></h2><p>In Linux and Unix, a shebang is the character sequence consisting of the characters &quot;number sign&quot; and &quot;exclamation mark&quot; (that is, &quot;#!&quot;).</p><p>When it occurs as the initial two characters on the first line of a shell script, the rest of the script is executed by the interpreter specified on that line. For example, if the first line of a script begins with &quot;#!/bin/bash&quot; then the script is executed by &quot;bash&quot;.</p><p>Because the command interpreter is known as a &quot;shell&quot; and because the &quot;exclamation mark&quot; suggests excitement (as in &quot;bang&quot;), the two characters and the rest of the first line is called the &quot;shebang&quot;.</p><div class="section"><h3><a name="Usage">Usage</a></h3><p>There are two ways to use <tt>patrodyne-scripting-java-X.X.X.jar</tt>:</p><ol style="list-style-type: decimal"><li><a href="#Direct">Direct</a> - Execute the jar from the command line to run a Java class.</li><li><a href="#Shebang">Shebang</a> - Execute a shell script using #!/usr/bin/javabang</li></ol><div class="section"><h4><a name="Direct">Direct</a></h4><p>The JAR for this project can be executed directly:</p><div class="source"><pre>Linux:

    java -jar patrodyne-scripting-javabang-X.X.X.jar $*

Windows:

    java -jar patrodyne-scripting-javabang-X.X.X.jar %*

Example:

    java -jar patrodyne-scripting-javabang-X.X.X.jar HelloWorld.java arg0 arg1 arg2</pre></div><p>In the above examples, the JAR and the Java sources must be in the same directory. You can apply your programming skills to increase flexibility, just add a fully qualify the location to the JAR.</p><p>Note: The <tt>java</tt> command must be on your path!</p><div class="source"><pre>Linux:

    java -jar ${HOME}/lib/patrodyne-scripting-javabang-X.X.X.jar $*

Windows:

    java -jar %HOME%\lib\patrodyne-scripting-javabang-X.X.X.jar %*</pre></div><p>By specifying the JAR with a fully qualified path, you can run a Java source file from the current working directory. A source file, say <tt>HelloWorld.java</tt> must contain the usual <tt>'public static void main(String[] args)'</tt> method before for your program will do anything useful. When a <tt>main</tt> method is found, the arguments after the file name are passed into your program, as you would expect.</p><p>Here is an example of <tt>HelloWorld.java</tt>:</p><div class="source"><pre>import javax.script.*;

class HelloWorld
{  
    private static ScriptContext ctx;
    public static void setScriptContext(ScriptContext ctx)
    {
        this.ctx = ctx;
    }

    public static void main(String[] args)
    {
        System.out.println(&quot;Hello World!&quot;);
        for (int argno=0;  argno &lt; args.length; ++argno)
            System.out.println(&quot;\t&quot;+argno+&quot;: &quot;+args[argno]);
    }
}</pre></div><p>When this example is evaluated as a JSR-223 <i>script</i> by our JAR, the <tt>ScriptContext</tt> is set prior to execution of the main method. The script context can contain runtime objects as provided by the script engine. In fact, in direct mode, the context will always contain:</p><ul><li>an object named <tt>javax.script.filename</tt> to provide the source file name.</li><li>an object named <tt>arguments</tt> to represent the command line options as an array of strings, in the usual way.</li></ul><p>System properties can be used to change the default location to search for additional source files, classes and jars:</p><ul><li><tt>-Dorg.patrodyne.scripting.java.sourcepath</tt> - colon separated list of paths.</li><li><tt>-Dorg.patrodyne.scripting.java.classpath</tt> - colon separated list of paths, jars, etc.</li></ul></div><div class="section"><h4><a name="Embedded">Embedded</a></h4><p>The second way to use our <i>Script Engine for Java</i> is to include it in the class path of a JSR-223 enabled application. An excellent example of such an application is Patrodyne's <a class="externalLink" href="http://patrodyne.org/sites/etl-TransformIO/index.html">TransformIO</a>.</p><p>Metadata:</p><ul><li>Engine Name: <tt>JavaCode</tt></li><li>Short Names: <tt>JavaCode, Java</tt></li><li>MIME Type: <tt>application/java</tt></li><li>Extensions: <tt>java</tt></li></ul></div><div class="section"><h4><a name="Utility">Utility</a></h4><p>To run Java programs from the command line, </p><ol style="list-style-type: decimal"><li>put patrodyne-scripting-javabang-X.X.X.jar into your ~/lib path,</li><li>add this script to your ~/bin path, </li><li>name it psj.</li></ol><div class="source"><pre>#!/bin/sh
# Patrodyne's Scripting Engine for Java
java -Dorg.patrodyne.scripting.java.classpath=&quot;.&quot; \
  -jar ~/lib/patrodyne-scripting-javabang-X.X.X.jar $*
# vi:set tabstop=4 hardtabs=4 shiftwidth=4:</pre></div><!-- vi:set tabstop=4 hardtabs=4 shiftwidth=4: --></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2013
                        <a href="http://patrodyne.org">Patrodyne</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
